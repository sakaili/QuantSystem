# 绛栫暐鍙傛暟閰嶇疆
# Strategy Configuration
version: "1.0"

# 璐︽埛閰嶇疆 - Account Settings
account:
  # size: 100.0                 # 宸茬Щ闄?涓嶅啀纭紪鐮佽处鎴疯妯?鏀逛负鍚姩鏃跺姩鎬佽幏鍙?
  usage_ratio: 0.9              # 璧勯噾浣跨敤鐜?90%鐢ㄤ簬浜ゆ槗,10%浣滅紦鍐?
  leverage: 2                   # 鏉犳潌鍊嶆暟
  order_type: "post_only"       # 璁㈠崟绫诲瀷(浠匨aker璁㈠崟)
  maker_fee: 0.0002             # Maker鎵嬬画璐?0.02%

# 缃戞牸閰嶇疆 - Grid Settings
grid:
  count: 10                     # 缃戞牸鎬绘暟 (浠?0鏀逛负10)
  spacing: 0.015                # 缃戞牸闂磋窛(1.5%)
  upper_grids: 5                # 涓婃柟缃戞牸鏁?寮€绌?浠?0鏀逛负5)
  lower_grids: 5                # 涓嬫柟缃戞牸鏁?骞崇┖,浠?0鏀逛负5)

  # 缃戞牸淇閰嶇疆
  repair_enabled: true          # 鍚敤鑷姩淇
  repair_interval: 10           # 姣?0绉掓鏌ヤ竴娆?
  max_repair_retries: 3         # 鍗曚釜缃戞牸鏈€澶氶噸璇?娆?
  min_success_rate_upper: 0.8   # 涓婃柟缃戞牸鏈€浣?0%鎴愬姛鐜?
  min_success_rate_lower: 0.8   # 涓嬫柟缃戞牸鏈€浣?0%鎴愬姛鐜?

  # 绉诲姩缃戞牸閰嶇疆锛堟棤闄愮綉鏍肩瓥鐣ワ級
  dynamic_expansion: true       # 鍚敤鍔ㄦ€佹墿灞?
  max_total_grids: 999          # 鏈€澶ф€荤綉鏍兼暟锛堣涓?99瀹炵幇鏃犻檺缃戞牸锛?
  max_side_grids: 999           # 鍗曚晶鏈€澶氱綉鏍兼暟锛堣涓?99瀹炵幇鏃犻檺缃戞牸锛?
  reopen_min_gap_ratio: 0.5     # 重新开空与已有上方挂单最小间距(占spacing比例)

# 浠撲綅閰嶇疆 - Position Settings
position:
  max_symbols: 9                # 鏈€澶氭寔浠撳竵绉嶆暟(9涓搧绉嶅悓鏃朵氦鏄?
  base_margin: 20.0             # 鍩虹浠撲綅淇濊瘉閲?USDT,姣忓搧绉?
  grid_margin: 7.0              # 鍗曠綉鏍间繚璇侀噾(USDT,姣忓搧绉?
  manual_symbols: [1000WHYUSDT]            # 鎵嬪姩鎸囧畾蹇呭紑甯佺(鍗犵敤max_symbols閰嶉), 渚? ["BTCUSDT", "ETHUSDT"]
  min_base_position_ratio: 0.6  # 鏈€灏忎繚鐣欏熀纭€浠撲綅姣斾緥(60%)
  # single_symbol_max: 鏀逛负鍔ㄦ€佽绠?= (璐︽埛浣欓 脳 0.9) / 5
  # total_margin_limit: 鏀逛负鍔ㄦ€佽绠?= 璐︽埛浣欓 脳 0.9

# 甯佺绛涢€?- Screening Criteria
screening:
  bottom_n: 50                  # 娴佸姩鎬ф帓鍚嶅€掓暟N
  min_listing_days: 300         # 鏈€灏忎笂甯傚ぉ鏁?
  funding_rate_floor: 0.0       # 璧勯噾璐圭巼涓嬮檺(>0,澶氬ご浠樿垂缁欑┖澶?
  atr_spike_multiplier: 3.0     # ATR鏆存定鍊嶆暟闃堝€?
  funding_rate_sort: true       # 鏄惁鎸夊巻鍙茬疮璁¤祫閲戣垂鐜囨帓搴?
  funding_rate_lookback_days: 0 # 缁熻绐楀彛(0=灏藉彲鑳藉叏鍘嗗彶)
  funding_rate_min_sum: 0.0     # 鏈€灏忕疮璁¤祫閲戣垂鐜?绛涢€夌敤)
  eth_deviation_filter: true    # 鍚敤ETH鍋忕绛涢€?
  eth_deviation_window: 60      # 婊氬姩绐楀彛(澶?
  eth_deviation_cooldown_days: 365       # 鏈€杩慛澶╁彂鐢熷亸绂荤洿鎺ュ墧闄?
  eth_deviation_rate_window_days: 180    # 缁熻鍋忕棰戠巼绐楀彛
  eth_deviation_ever: true               # 璞佸厤妯″紡锛氬彧鐪嬫渶杩慛澶╂槸鍚﹀亸绂?
  eth_corr_drop_threshold: 0.2           # corr_drop闃堝€?
  eth_corr_drop_rate_limit: 0.05         # corr_drop棰戠巼涓婇檺
  eth_residual_z: 2.5                    # 娈嬪樊z闃堝€?
  eth_residual_rate_limit: 0.01          # 娈嬪樊鍋忕棰戠巼涓婇檺
  binance_component_max_weight: 0.8      # Binance鎴愬垎鍗犳瘮涓婇檺(<=80%)
  binance_component_weight_strict: true  # 鏃犳硶鑾峰彇鍗犳瘮鏃舵槸鍚﹀墧闄?
  air_mean_deviation_filter: true        # 鍚敤鍨冨溇甯佸潎鍊煎亸绂荤瓫閫?
  air_mean_use_median: true              # 浣跨敤涓綅鏁?鏇存姉鏋佺鍊?
  air_mean_deviation_window: 60          # 婊氬姩绐楀彛(澶?
  air_mean_deviation_cooldown_days: 365  # 鏈€杩慛澶╁彂鐢熷亸绂荤洿鎺ュ墧闄?
  air_mean_deviation_rate_window_days: 180  # 缁熻鍋忕棰戠巼绐楀彛
  air_mean_deviation_ever: true          # 璞佸厤妯″紡锛氬彧鐪嬫渶杩慛澶╂槸鍚﹀亸绂?
  air_mean_corr_drop_threshold: 0.2      # corr_drop闃堝€?
  air_mean_corr_drop_rate_limit: 0.05    # corr_drop棰戠巼涓婇檺
  air_mean_residual_z: 2.5               # 娈嬪樊z闃堝€?
  air_mean_residual_rate_limit: 0.01     # 娈嬪樊鍋忕棰戠巼涓婇檺

# 浜ゆ槗鏃堕棿 - Schedule
schedule:
  scan_hour: 0                  # 姣忔棩绛涢€夋椂闂?UTC灏忔椂)
  scan_interval: 86400          # 绛涢€夐棿闅?绉?
  monitor_interval: 10          # 鐩戞帶寰幆闂撮殧(绉?

# 鎹粨閰嶇疆 - Rebalancing Settings
rebalancing:
  enabled: true                  # 鍚敤鐩堝埄鎹粨锛堝綋鐩堝埄杈炬爣涓斾笉鍦ㄥ€欓€夊竵涓椂锛?
  profit_threshold: 0.15        # 鐩堝埄鐩爣(15%)
  cooldown_hours: 24            # 鍐峰嵈鏈?灏忔椂)
  max_rebalances_per_day: 3     # 鍗曟棩鏈€澶ф崲浠撴鏁?

# Web 浠〃鏉块厤缃?- Web Dashboard Settings
web_dashboard:
  enabled: true                  # 鍚敤 Web 浠〃鏉?
  host: "0.0.0.0"               # 鐩戝惉鍦板潃 (0.0.0.0 鍏佽澶栭儴璁块棶)
  port: 5000                    # 鐩戝惉绔彛
  debug: false                  # 璋冭瘯妯″紡
