# 垃圾币空头网格交易策略

**策略版本**: v3.0
**更新日期**: 2026-01-25
**策略类型**: 空头偏向网格交易（Short-Biased Grid Trading）

---

## 一、策略概述

### 1.1 市场定位

**目标市场**: 币安USDT永续合约市场中的低流动性、高波动性山寨币

**核心理念**:
- 垃圾币长期趋势向下
- 下跌过程中存在剧烈波动和反弹
- 通过网格交易捕获波动性
- 保持空头偏向顺应长期趋势

**策略结构**:
- 基础仓位层：持有趋势性空头敞口
- 网格交易层：捕获价格波动

---

### 1.2 币种筛选标准

必须**同时满足**以下条件：

1. **技术形态**: EMA空头排列（EMA10 < EMA20 < EMA30）
2. **流动性**: 24小时成交额在 0-500万USDT 之间
3. **波动性**: 过去7天日均波动率 > 5%
4. **资金费率**: 当前资金费率 > 0（多头付费，空头收益）
5. **趋势确认**: 过去30天累计跌幅 > 20%

---

## 二、账户配置

### 2.1 基础参数

- **账户规模**: 900 USDT
- **杠杆倍数**: 2倍
- **订单类型**: 仅使用Post-Only Maker订单
- **手续费**: 0.02%/次（Maker）
- **最低订单要求**: 5.01 USDT保证金

### 2.2 仓位分配

**单币种配置**:
- 基础仓位：15 USDT保证金（1.67%资本）
- 网格层：52.5 USDT保证金（5.83%资本）
- 单币种总计：67.5 USDT保证金（7.5%资本）

**多币种组合**:
- 最大持仓：3个币种
- 总保证金：202.5 USDT（22.5%资本）
- 剩余资金：697.5 USDT（77.5%作为安全垫）

---

## 三、网格配置

### 3.1 网格参数

- **网格数量**: 20个（上方10个 + 下方10个）
- **网格间距**: 2%（等比间距）
- **单网格保证金**: 5.25 USDT
- **单网格名义价值**: 10.5 USDT
- **覆盖范围**: P0 × 1.219 → P0 × 0.817（上涨22% ~ 下跌18%）

### 3.2 网格价格表

以入场价P0为基准，网格价格如下：

```
═══════════ 上方网格（开空区域）═══════════
Grid +10: P0 × 1.219 = 1.219P0  (上涨21.9%)
Grid +9:  P0 × 1.195 = 1.195P0  (上涨19.5%)
Grid +8:  P0 × 1.172 = 1.172P0  (上涨17.2%)
Grid +7:  P0 × 1.149 = 1.149P0  (上涨14.9%)
Grid +6:  P0 × 1.126 = 1.126P0  (上涨12.6%)
Grid +5:  P0 × 1.104 = 1.104P0  (上涨10.4%)
Grid +4:  P0 × 1.082 = 1.082P0  (上涨8.2%)
Grid +3:  P0 × 1.061 = 1.061P0  (上涨6.1%)
Grid +2:  P0 × 1.040 = 1.040P0  (上涨4.0%)
Grid +1:  P0 × 1.020 = 1.020P0  (上涨2.0%)

═══════════ 入场价 ═══════════
Grid 0:   P0 × 1.000 = P0       (入场价)

═══════════ 下方网格（平空区域）═══════════
Grid -1:  P0 × 0.980 = 0.980P0  (下跌2.0%)
Grid -2:  P0 × 0.960 = 0.960P0  (下跌4.0%)
Grid -3:  P0 × 0.941 = 0.941P0  (下跌5.9%)
Grid -4:  P0 × 0.922 = 0.922P0  (下跌7.8%)
Grid -5:  P0 × 0.904 = 0.904P0  (下跌9.6%)
Grid -6:  P0 × 0.886 = 0.886P0  (下跌11.4%)
Grid -7:  P0 × 0.868 = 0.868P0  (下跌13.2%)
Grid -8:  P0 × 0.851 = 0.851P0  (下跌14.9%)
Grid -9:  P0 × 0.834 = 0.834P0  (下跌16.6%)
Grid -10: P0 × 0.817 = 0.817P0  (下跌18.3%)
```

### 3.3 网格对称性

- 上方10个网格：用于开空单（价格上涨时开仓）
- 下方10个网格：用于平空单（价格下跌时平仓）
- 每个上方网格对应一个下方网格
- 最多同时持有10个网格仓位

---

## 四、交易规则

### 4.1 基础仓位开仓

**触发条件**: 币种满足筛选标准

**开仓参数**:
- 开仓价格：当前价格P0
- 保证金：15 USDT
- 名义价值：30 USDT
- 订单类型：Post-Only限价卖单（开空）

**作用**: 持有长期趋势性空头敞口

### 4.2 网格挂单逻辑

**初始化阶段**:
1. 在所有上方网格（Grid +1至+10）挂Post-Only限价卖单（开空）
2. 每个卖单保证金：5.25 USDT
3. 在所有下方网格（Grid -1至-10）预留平空买单位置

**上方网格 - 开空单**:
- 在Grid +1至+10（1.020P0至1.219P0）挂限价卖单
- 当价格上涨触及这些价格时，订单成交，开空单
- 每个网格独立管理

**下方网格 - 平空单**:
- 在Grid -1至-10（0.980P0至0.817P0）挂限价买单
- 当价格下跌触及这些价格时，订单成交，平空单
- 每个网格对应上方的开空单

**订单配对关系**:
- Grid +1 (1.020P0) 开的空单 → Grid -1 (0.980P0) 平仓
- Grid +2 (1.040P0) 开的空单 → Grid -2 (0.960P0) 平仓
- Grid +3 (1.061P0) 开的空单 → Grid -3 (0.941P0) 平仓
- Grid +4 (1.082P0) 开的空单 → Grid -4 (0.922P0) 平仓
- Grid +5 (1.104P0) 开的空单 → Grid -5 (0.904P0) 平仓
- Grid +6 (1.126P0) 开的空单 → Grid -6 (0.886P0) 平仓
- Grid +7 (1.149P0) 开的空单 → Grid -7 (0.868P0) 平仓
- Grid +8 (1.172P0) 开的空单 → Grid -8 (0.851P0) 平仓
- Grid +9 (1.195P0) 开的空单 → Grid -9 (0.834P0) 平仓
- Grid +10 (1.219P0) 开的空单 → Grid -10 (0.817P0) 平仓

### 4.3 订单管理

**开空单成交后**:
- 对应的下方平空买单保持挂单状态
- 继续在该上方网格挂新的开空卖单

**平空单成交后**:
- 重新在对应的上方网格挂开空卖单
- 循环往复，持续捕获价格波动

**订单价格设置**:
- 开空卖单：精确在网格价格挂单
- 平空买单：精确在网格价格挂单
- 使用Post-Only确保订单不会立即成交
- 价格精度：根据交易所要求设置（通常4-6位小数）

**订单状态监控**:
- 实时监控所有挂单状态（pending/filled/cancelled）
- 每个网格最多1个开空单 + 1个平空单同时存在
- 当价格远离某个网格（>5%）时，可以取消该网格的挂单
- 当价格接近某个网格（<1%）时，确保挂单已就位

### 4.4 平仓规则

**网格止盈**:
- 平仓方式：提前挂Post-Only限价买单（平空）
- 平仓规则：在Grid +N开的空单，在Grid -N价格平仓
- 手续费：往返0.04%（开仓0.02% + 平仓0.02%）

**全局止损**:
- 触发条件：价格突破P0并上涨超过15%（即价格 > 1.15 × P0）
- 执行动作：全部平仓（基础仓位 + 所有网格），退出该币种
- 订单类型：市价单（紧急止损）

**全局止盈**:
- 触发条件：价格跌破Grid -10（0.817P0）
- 执行动作：
  1. 平仓50%仓位锁定利润
  2. 重新设置更低的网格范围
  3. 继续捕获后续波动

**资金费率止损**:
- 触发条件：资金费率转负且持续3天
- 执行动作：考虑平仓，避免持续支付资金费

---

## 五、风险控制

### 5.1 仓位限制

**单币种限制**:
- 基础仓位：15 USDT保证金
- 网格层：最多10个网格 × 5.25 USDT = 52.5 USDT保证金
- 单币种最大保证金：67.5 USDT（7.5%资本）
- 单币种最大名义价值：135 USDT（15%资本）

**组合限制**:
- 最大持仓币种数：3个
- 总保证金上限：202.5 USDT（22.5%资本）
- 总名义价值上限：405 USDT（45%资本）

### 5.2 止损机制

**价格止损**:
- 单币种止损线：1.15 × P0
- 触发方式：价格突破止损线
- 执行方式：市价单全部平仓

**资金费率止损**:
- 触发条件：资金费率转负且持续3天
- 执行方式：限价单平仓

**流动性止损**:
- 触发条件：成交额暴增至平均值5倍以上
- 执行方式：考虑提前平仓

### 5.3 风险预警

**一级预警**（提示）:
- 价格接近1.10 × P0（距离止损线5%）
- 资金费率转负
- 成交额暴增3倍

**二级预警**（准备行动）:
- 价格突破1.10 × P0
- 资金费率持续负值2天
- 成交额暴增5倍以上

**三级预警**（立即行动）:
- 价格突破1.15 × P0 → 立即止损
- 资金费率持续负值3天 → 考虑平仓
- 出现异常大单或闪崩 → 暂停交易

---

## 六、执行要点

### 6.1 订单执行

**订单类型**:
- 全部使用Post-Only限价单（Maker订单）
- 手续费：0.02%/次
- Post-Only确保订单不会立即成交，必须等待对手方吃单

**异常处理**:
- 如果Post-Only订单被拒绝（价格已穿过），等待价格回调后重新挂单
- 如果订单长时间未成交（>24小时），检查价格是否已远离
- 如果出现网络问题，重新同步所有挂单状态

### 6.2 仓位监控

**实时监控指标**:
1. 每个币种的当前网格状态（哪些网格已开仓）
2. 每个币种的保证金占用（不超过67.5 USDT）
3. 总保证金占用（不超过202.5 USDT）
4. 每个币种距离止损线的距离

**每日检查**:
1. 资金费率是否仍为正
2. 成交额是否异常（暴增5倍以上）
3. 是否有网格触发但未成交的情况

---

## 七、策略参数总结

### 7.1 核心参数

| 参数类别 | 参数名称 | 参数值 |
|---------|---------|--------|
| 账户配置 | 账户规模 | 900 USDT |
| 账户配置 | 杠杆倍数 | 2倍 |
| 账户配置 | 订单类型 | Post-Only Maker |
| 账户配置 | 手续费 | 0.02%/次 |
| 网格配置 | 网格数量 | 20个（上10下10） |
| 网格配置 | 网格间距 | 2% |
| 网格配置 | 单网格保证金 | 5.25 USDT |
| 网格配置 | 覆盖范围 | P0 × 1.219 → P0 × 0.817 |
| 仓位配置 | 基础仓位保证金 | 15 USDT |
| 仓位配置 | 网格层保证金 | 52.5 USDT |
| 仓位配置 | 单币种总保证金 | 67.5 USDT |
| 仓位配置 | 最大持仓币种数 | 3个 |
| 风险控制 | 止损线 | 1.15 × P0 |
| 风险控制 | 资金费率止损 | 负值持续3天 |

### 7.2 币种筛选参数

| 筛选条件 | 参数值 |
|---------|--------|
| EMA排列 | EMA10 < EMA20 < EMA30 |
| 24h成交额 | 0-500万USDT |
| 7日波动率 | > 5% |
| 资金费率 | > 0 |
| 30日跌幅 | > 20% |

### 7.3 网格价格计算公式

```
上方网格价格 = P0 × (1.02)^n，其中 n = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
下方网格价格 = P0 × (0.98)^n，其中 n = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10

具体计算：
Grid +1 = P0 × 1.020
Grid +2 = P0 × 1.040
Grid +3 = P0 × 1.061
Grid +4 = P0 × 1.082
Grid +5 = P0 × 1.104
Grid +6 = P0 × 1.126
Grid +7 = P0 × 1.149
Grid +8 = P0 × 1.172
Grid +9 = P0 × 1.195
Grid +10 = P0 × 1.219

Grid -1 = P0 × 0.980
Grid -2 = P0 × 0.960
Grid -3 = P0 × 0.941
Grid -4 = P0 × 0.922
Grid -5 = P0 × 0.904
Grid -6 = P0 × 0.886
Grid -7 = P0 × 0.868
Grid -8 = P0 × 0.851
Grid -9 = P0 × 0.834
Grid -10 = P0 × 0.817
```

---

## 八、交易流程示例

### 8.1 初始化流程

```
1. 币种筛选
   └─ 扫描符合条件的币种
   └─ 确定入场价P0

2. 基础仓位开仓
   └─ 在P0开空单，保证金15 USDT

3. 网格初始化
   └─ 在Grid +1至+10挂开空卖单（10个 × 5.25 USDT）
   └─ 在Grid -1至-10预留平空买单位置
```

### 8.2 运行流程

```
价格上涨至Grid +1 (1.020P0)：
├─ Grid +1卖单成交 → 开空单（持仓+5.25 USDT）
├─ Grid -1买单保持挂单状态
└─ 重新在Grid +1挂开空卖单

价格下跌至Grid -1 (0.980P0)：
├─ Grid -1买单成交 → 平空单（平掉Grid +1的空单）
├─ 手续费：往返0.04%
└─ 重新在Grid +1挂开空卖单

价格继续上涨至Grid +2 (1.040P0)：
├─ Grid +2卖单成交 → 开空单（持仓+5.25 USDT）
└─ Grid -2买单保持挂单状态

价格下跌至Grid -2 (0.960P0)：
├─ Grid -2买单成交 → 平空单（平掉Grid +2的空单）
└─ 重新在Grid +2挂开空卖单

循环往复...
```

### 8.3 止损流程

```
价格突破1.15 × P0：
├─ 触发全局止损
├─ 取消所有挂单
├─ 市价单平掉所有持仓（基础仓位 + 网格仓位）
└─ 退出该币种
```

---

**策略定义完成**
**本文档用于指导交易系统开发**
